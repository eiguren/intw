In this test I am computing the electron-phonon matrix elements for q=0 and trying to compare the results of intw and QE.

First, I enter to the qe folder, and I run the scf, where I give the k points explicitly to be the same ones used by intw.

Then, inside the same qe folder, I run the ph calculation to compute the induced potential and dynamical matrix.
I have included an output (cu.ph.out_haritz), where I have modified QE in order to print the matrix elements. The format of that output is the following:
ikpt   iband   jband   imode   re(me)   im(me)   abs(me)

Then, I turn back to the main folder, and I copy the following files:
cp -r qe/cu.save ./
cp -r qe/_ph0 qq1/
cp qe/cu.dyn1 qq1/cu.dyn
cp qe/cu.dyn* ./

After copying the files, I run q2r to produce the force constants file.

Then, I run pw2intw.

And finally ep_melements_noW.x.


To compare the matrix elements of QE and intw I have created a script (matrix-element-test.bash), which writes the matrix elements of both calculations in the same format (it is very slow, so in the future I will write the script in python).

And after running the matrix-element-test.bash script, run the python compare_matrix_elements.py script to compare them.

