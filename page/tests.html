<!-- -*- mode: jinja2 -*- -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="Welcome to the documentation for the INTW project">
    <meta name="author" content="INTW group" >
    <link rel="icon" href="../favicon.png">

    <title>Test suite &ndash; INTW</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <!-- Font Awesome -->
    <link href="../css/fontawesome.min.css" rel="stylesheet">
    <link href="../css/brands.min.css" rel="stylesheet">
    <link href="../css/regular.min.css" rel="stylesheet">
    <link href="../css/solid.min.css" rel="stylesheet">
    <link href="../css/v4-font-face.min.css" rel="stylesheet">
    <link href="../css/v4-shims.min.css" rel="stylesheet">
    <!-- MathJax -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        TeX: { equationNumbers: { autoNumber: "AMS" } }
      });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.9/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async
            integrity="sha256-DViIOMYdwlM/axqoGDPeUyf0urLoHMN4QACBKyB58Uw=" crossorigin="anonymous"></script>
    <!-- Other scripts and stylesheets -->
    <link href="../css/local.css" rel="stylesheet">
    <link href="../css/pygments.css" rel="stylesheet">
    <script src="../js/svg-pan-zoom.min.js"></script>
  </head>

  <body>

    <!-- Fixed navbar -->
    <div class="container-fluid mb-sm-4 mb-xl-2">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
          <a class="navbar-brand" href="../index.html">INTW </a>
          <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar"
                  aria-expanded="false" aria-controls="navbar" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon">
          </button>

          <div id="navbar" class="navbar-collapse collapse">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="index.html">User Guide</a></li>
                  <li class="nav-item">
                    <a class="nav-link" href="../lists/files.html">Source Files</a>
                  </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/modules.html">Modules</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/procedures.html">Procedures</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/programs.html">Programs</a>
                </li>
            </ul>
              <div class="d-flex align-items-end flex-grow-1">
                <form action="../search.html" role="search" class="ms-auto">
                  <input type="text" class="form-control" aria-label="Search" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
                </form>
              </div>
          </div><!--/.nav-collapse -->
        </div>
      </nav>
    </div>

    <div class="container">
  <div class="row">
    <h1>Test suite</h1>
    <div class="container p-2 mb-4 bg-light border rounded-3">
      <div class="row align-items-center justify-content-between">
        <div class="col">
          <ul class="list-inline" style="margin-bottom:0px; display:inline">
          </ul>
        </div>
        <div class="col">
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb justify-content-end mb-0">
                <li class="breadcrumb-item"><a href='index.html'>User Guide</a></li>
              <li class="breadcrumb-item active" aria-current="page">Test suite</li>
            </ol>
          </nav>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
      <div class="col-3">
        <div class="card card-body bg-light" id="sidebar-toc">
          <ul class="nav flex-column align-items">
            <li class="nav-item">
              <a class="nav-link" href="index.html">User Guide</a>
            </li>
          </ul>
          <hr>
          <nav class="nav nav-pills flex-column">
              <a class="nav-link" href="tutorials/index.html">Tutorials</a>
                <nav class="nav nav-pills flex-column">
                                <a class="nav-link" href="tutorials/qe-intw.html">Quantum ESPRESSO</a>
              <a class="nav-link" href="tutorials/siesta-intw.html">SIESTA</a>

                </nav>
              <a class="nav-link active disabled" href="tests.html">Test suite</a>
              <a class="nav-link" href="other.html">Other</a>
          </nav>
        </div>
      </div>

    <div class="col-9" id='text'>
      <p>The <code>test</code> directory contains the tests for testing INTW.</p>
<p>Remember running <code>make</code> before executing the tests, since some tests will need to be compiled. Then run <code>make test</code> or <code>ctest</code> command to execute all the tests. <code>ctest</code> gives more options to execute the test, for example with <code>ctest -V</code> the output of the tests is showed.</p>
<h2 id="some-theory-about-testing">Some theory about testing</h2>
<p>There are three main methods to test a software: Unit testing, Integration testing and Functional testing.</p>
<p>Unit testing means testing individual modules of an application in isolation (without any interaction with dependencies) to confirm that the code is doing things right.</p>
<p>Integration testing means checking if different modules are working fine when combined together as a group.</p>
<p>Functional testing means testing a slice of functionality in the system (may interact with dependencies) to confirm that the code is doing the right things.</p>
<h2 id="intw-test-suite">INTW test suite</h2>
<p>INTW is prepared to develop tests in different ways:</p>
<ol>
<li>It is possible to write a script to execute a INTW utility program, and then compare the obtained results with previous reference calculations (Functional testing).</li>
<li>Another option is to write a fortran function, where it is possible to run individual INTW subroutines (Unit testing), or even more complex programs (Integration testing).</li>
</ol>
<h4 id="1-scripts">1. Scripts</h4>
<p>The scripts could be written in different languages, for example bash or python. In the <code>test_dummy</code> folder there are examples with both languages. This scripts should run a program, check the results and compare them with a previous reference calculation, and exit with error code <code>0</code> if the result is the expected, or if the result is not correct with error code <code>1</code>. This type of test would be well suited to check the code when major changes are made on it. One example of such a test could be for example to compute the electron-phonon matrix elements of a system and compare it with a previous calculation. In this way we can check if all the subroutines together work as they should be.</p>
<h4 id="2-fortran-functions">2. Fortran functions</h4>
<p>In this case, the function could be as simple as reading the calculation parameters, or as complex as computing the electron-phonon matrix elements. But I think that has no sense to write a complex function to compute the electron-phonon matrix elements, because the test should be compiled before running the test, and for that purpose I think that it would be better to write a script that runs an existing INTW utility.</p>
<p>This type of tests should be used to check very specific parts of the code. For example, one test could check if the symmetry operations are read and used correctly. Or another test could read the pseudopotentials and check if all the data is read correctly.</p>
<p>On the <code>test_IO</code> file there is a very simple test of this type that could be used as an example.</p>
<h2 id="test-module">Test module</h2>
<p>The <code>module</code> directory contains a collection of useful functions for testing.</p>
<h2 id="adding-new-tests">Adding new tests</h2>
<p>Read <code>CMakeList.txt</code> file in <code>test</code> directory to learn how to add new tests.</p>
    </div>
  </div>
      <hr>
    </div> <!-- /container -->
    <footer>
      <div class="container">
        <div class="row justify-content-between">
          <div class="col">
            <p>
              INTW
 was developed by INTW group<br>              &copy; 2025 
</p>
          </div>
          <div class="col">
            <p class="text-end">
              Documentation generated by
              <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
            </p>
          </div>
        </div>
        <br>
      </div> <!-- /container -->
    </footer>
  </body>
</html>